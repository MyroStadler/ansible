---
all:
  hosts:
    medium.mstadler.devonly.net:
  vars:
    ansible_user: centos
    ansible_become_pass: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      30623733313361373337336533646530623832316262306163336161363662356630646162396361
      6266636463326632363534393866336462643733363135350a323463313265613861383065323436
      39323062366137646634333765383265323366626333613065393731613834353563346633633231
      3964363339393163610a643065613537313134663732313162383438616633353462613661646132
      30346138373934313134363536393731343365313237613839306162613664633133353465646265
      6431386238373635303536373131386432653461626662343361


    server_extra_packages:
      - nmap
      - chromium
      - libreoffice

    php_install_extra_packages:
      - php72-php-pear
      - php72-php-pecl-imagick
      - php72-php-pecl-imagick-devel

    selinux_booleans:
      - name: httpd_can_network_connect
        state: true
      - name: httpd_execmem
        state: true

    selinux_contexts: []

#    install_repo_ssh_uri: git@github.com:myrostadler/medium.git
    install_repo_ssh_uri: git@git.unipart.io:mstadler/medium.git
    install_repo_version: develop

    git_update_does_reset: true
    git_update_does_clean: false

    php_ini_xdebug_remote_enable: 1
    php_ini_xdebug_remote_port: 9002

    install_dir_name: medium
    install_env_app_env: dev
    install_env_app_secret: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      35646661326632313762666535643930623539343638323333663535373161313834336637343535
      3865313333646536653435373762306366623161363331300a303666363366643061396263303031
      32376165613331396463343561656633363065626131663436323363376262346139666438626438
      6666316630356135340a626461363666633239326564366630376139383835386264366262356630
      63313535386662323566373338326339303762633632326632663161383933383961346135353238
      6130313565633533363439636663333363616434356232623830
    install_env_domain_name: "{{ inventory_hostname }}"
    install_recreate_fixtures: true
    install_type: symfony4

    install_database: true
#    install_database: false
#    website_has_remote_database: true
    install_env_database_protocol: pgsql
    install_env_database_port: 5432
#    install_env_database_protocol: mysql
#    install_env_database_host: medium-rds.mstadler.devonly.net
    install_env_database_host: localhost
    install_env_database_user: test
    install_env_database_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      35633161633965363464353735633638336430373839653634333439396265333166653930616439
      6266313361353331643233343136373735396365626363340a323438303139363162653238343832
      31303364656662396539386232333037663938306335656439376330666636326535363238383735
      3633663862633165310a363361616339646539373164613064333863643133666636366338623738
      3161
    install_env_database_name: medium_dev
    install_env_database_root_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      63616635363963333033346234323735646539326431333837633136313265343936386162346534
      3663666461643235323565383232346536303365373637350a393931356433393961323439333637
      36336131623532326535343731656636653863633832376236363763663130343563373831333936
      6535356663343534320a383038333566653532626532306362396665666337643634633862383661
      6132
    install_env_extra:
      - name: GOOGLE_CLIENT_ID
        value: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38333936633164306263313265376633376230353434356130626539633365313030616135303363
          6536366237623361306637393937356663663735373861380a323035396533643365666533623431
          32383166376362316634383161393464313063666331366365386531333462663133383161663434
          3934373439613463320a393636366364363462376334376233376434363535366663323532643838
          65326536646537333164363736363463613263663530623737323836313137636238656332623165
          31643761373031306336343232323139613064353464313431633237366331623465313938303664
          64656134663830303866643735313065306162396134343431653931373439326563313964326265
          64356232373561613066
      - name: GOOGLE_CLIENT_SECRET
        value: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37383336393131343435333130343061363361623435303561363933386165653437666664376236
          6262356133613263333163626631646132336565636363320a356234366630346634313036393062
          65393230393335346565313235316531623537613339356139633232353566633765663964373364
          3264613033636438330a636562633735316532376165343439303230326662616230643638646364
          32343338326437363864373365396538346332313962343236336332633239383833

    certbot_auto_renew: true
    certbot_create_if_missing: true
    certbot_create_method: standalone
    certbot_admin_email: "webmaster@{{ inventory_hostname }}"
    certbot_certs:
      - domains:
          - "{{ inventory_hostname }}"
    certbot_create_standalone_stop_services:
      - httpd
    certbot_modify_vhost_file: "/etc/httpd/conf.d/{{ install_dir_name }}.conf"